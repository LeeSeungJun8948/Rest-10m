<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.rest.app.fac.service.impl.FacilitiesMapper">
	<select id="getFac"
		resultType="com.rest.app.fac.vo.FacilitiesVO">
		select FAC_CODE,
		FACILITIES_NAME,
		MODEL,
		FAC_SIZE,
		PRODUCTION_COMPANY,
		PURPOSE,
		VOLUME,
		PRODUCTION_DATE,
		EMP_NO,
		PRICE,
		FAC_INSPECTION,
		PURCHASE_DATE,
		IMG,
		PROCESS_CODE
		from facilities
		order by fac_code
	</select>
	<insert id="insertFac"
		parameterType="com.rest.app.fac.vo.FacilitiesVO">
		insert into FACILITIES
		values(fac_seq.nextval, #{facilitiesName}, #{model}, #{facSize}, #{productionCompany},
		#{purpose}, #{volume}, #{productionDate}, #{empNo}, #{price},
		#{facInspection}, #{purchaseDate}, #{img}, #{processCode})
	</insert>
	<delete id="deleteFac"
		parameterType="com.rest.app.fac.vo.FacilitiesVO">
		delete from facilities where fac_code=#{facCode}
	</delete>
	<select id="getFacProcess" resultType="com.rest.app.fac.vo.FacilitiesVO">
		select f.fac_code, f.facilities_name, f.process_code, p.process_name
		from facilities f, process p
		where f.process_code=p.process_code
		order by fac_code
	</select>
</mapper>